<!DOCTYPE html>
<html>
<head>
	<title>quissi de noi</title>
	<script src="http://127.0.0.1:8080/js/three.js"></script>
</head>
<body>
	<script>
	var camera, scene, scene1, renderer;

	var rotation=0;
	var mesh;

	init();
	animate();

	function init(){
		scene = new THREE.Scene();
	
		camera = new THREE.PerspectiveCamera ( 75, window.innerWidth/window.innerHeight, 1, 10000);
		//camera.applyMatrix( new THREE.Matrix4().makeTranslation(0, 0, 10) );
		//camera.position.z=10;
		camera.position.y=10
		camera.lookAt(scene.position);
		scene.add(camera);

		var geometry1 = new THREE.BoxGeometry(2,2,2);
		var geometry2 = new THREE.BoxGeometry(2,2,2);
		var material = new THREE.MeshLambertMaterial({color: 'blue' });

		geometry1.applyMatrix( new THREE.Matrix4().makeTranslation(0, 0, 0) );
		mesh1 = new THREE.Mesh(geometry1, material);
		
		geometry2.applyMatrix( new THREE.Matrix4().makeTranslation(0, 0, 0) );
		mesh2 = new THREE.Mesh(geometry2, material);
		
		mesh1.position.x = -2;
		mesh2.position.x = +2;
		mesh1.overdraw = true;
		mesh2.overdraw = true;
		mesh1.castShadow = true;
		mesh2.castShadow = true;

		scene.add(mesh1);
		scene.add(mesh2);
		
		
		
		var planeGeo = new THREE.PlaneGeometry(50, 50, 10, 10);
        var planeMat = new THREE.MeshLambertMaterial({color: 0xFFFFFF});
        var plane = new THREE.Mesh(planeGeo, planeMat);
        plane.rotation.x = -Math.PI / 2;
        plane.position.y = -2;
        plane.receiveShadow = true;
        scene.add(plane);
		//mesh2.position.x = 2;
		//scene.add(camera);


		var spotlight = new THREE.SpotLight(0xffffff);
        spotlight.position.set(100,200,8);
        //spotlight.shadowCameraVisible = true;
        //spotlight.shadowDarkness = 0.25;
        //spotlight.intensity = 10;
        //spotlight.shadowCameraFov = 100;
        // must enable shadow casting ability for the light
        spotlight.castShadow = true;
        scene.add(spotlight);

		
		renderer = new THREE.WebGLRenderer({antialias: true});
        renderer.setSize( window.innerWidth, window.innerHeight );
        renderer.shadowMapEnabled = true;
        document.body.appendChild( renderer.domElement );
        renderer.setClearColorHex(0xFFFFFF, 1.0);
        renderer.clear();

	}

	function animate(){
		requestAnimationFrame(animate);
		
		mesh1.rotation.x+=0.01;
		mesh1.rotation.z-=0.1;

		//camera.lookAt(mesh1.position);

		
		rotation += 0.01;
		//camera.position.y = Math.sin(rotation)*5;
		camera.position.x = Math.sin(rotation) * 20;
		camera.position.z = Math.cos(rotation) * 20;
		camera.lookAt( scene.position );
		//camera.lookAt(mesh1.position);
		
		renderer.render(scene, camera);
	}

	</script>	
</body>
</html>